knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse")
installed.packages("knitr")
installed.packages("readr")
installed.packages("lubridate")
installed.packages("dplyr")
installed.packages("writexl")
installed.packages("knitr")
install.packages("knitr")
install.packages("readr")
install.packages("lubridate")
install.packages("dplyr")
install.packages("writexl")
library(tidyverse)
library(knitr)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
# Create dataframe
df1 = data.frame(
y1 = c(1, 2, 3),
y2 = c(4, 5, 6)
)
# Create another dataframe
df2 = data.frame(
y1 = c(7, 8, 9),
y2 = c(1, 4, 6)
)
list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
monitoring_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
install.packages(readxl)
install.packages("readxl")
library(readxl)
# create a list of df
names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
# import df in a list
data <- lapply(names, read_excel)
lapply(names, paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)",names))
paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)", names, sep = "")
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)", names, sep = "")
# import df in a list
data <- lapply(path_names, read_excel)
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)", names, sep = "")
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)", files_names, sep = "")
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)", file_names, sep = "")
# import df in a list
data <- lapply(path_names, read_excel)
data <- lapply(path_names,
read_excel, path = path_names)
data <- lapply(path_names,
read_excel, path = "path_names")
path_names
read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)2023-10-01.xlsx")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/", file_names, sep = "")
path_names
read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-01.xlsx")
test <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-01.xlsx")
View(test)
data <- lapply(path_names,
read_excel, path = path_names)
list_data <- lapply(path_names, function(x) read_excel(paste0(path = x)))
path_names
read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-04.xlsx)
read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-04.xlsx")
temp <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-04.xlsx")
variable_masked <- c("BOOKING","LAST_NAME","FIRST_NAME","MIDDLE","DATE_OF_BIRTH)
mask_variables <- c("BOOKING","LAST_NAME","FIRST_NAME","MIDDLE","DATE_OF_BIRTH")
mask_variables <- c("BOOKING", "LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
temp_2 <- temp
temp_2[,anonymize_variables := lapply(.SD, anonymize),.SDcols=anonymize_variables,with=FALSE]
temp %>%
anonymize(BOOKING)
install.packages("anonymizer")
library(anonymizer)
install.packages("digest")
install.packages("digest")
library(digest)
temp %>%
digest(BOOKING)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
library(readxl)
library(digest)
temp %>%
digest(BOOKING)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
library(readxl)
library(digest)
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/", file_names, sep = "")
test
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/", file_names, sep = "")
# import df in a list
list_data <- lapply(path_names, function(x) read_excel(paste0(path = x)))
path_names
temporary_df <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-01.xlsx")
temporary_df %>%
digest(BOOKING)
# list of variables to mask
anonymize_variables <- c("BOOKING", "LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
# assign a hash id to anonymize data
temporary_df %>%
digest(BOOKING)
temporary_df %>%
mean(BOOKING)
digest(temporary_df$BOOKING)
digest(BOOKING, serialize = FALSE)
temporary_df %>%
digest(BOOKING, serialize = FALSE)
digest(temporary_df$BOOKING)
digest(temporary_df$BOOKING, serialize = FALSE)
digest(temporary_df$BOOKING, serialize = TRUE)
digest(temporary_df$BOOKING, length = 6)
digest2int(temporary_df$BOOKING)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
library(readxl)
library(digest)
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col/", file_names, sep = "")
# import df in a list
list_data <- lapply(path_names, function(x) read_excel(paste0(path = x)))
# TEMPORARY single df
temporary_df <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/1 - Original Data Clean Formatting (Micah Only)/2023-10-01.xlsx")
temporary_df <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col/2023-10-12 (sent 10-13) (new format).xlsx")
View(temporary_df)
temporary_df %>%
select(starts_with("..."))
temporary_df %>%
select(-starts_with("..."))
lapply(list_data, select(-starts_with("...")))
lapply(list_data, select(-starts_with("...")))
temporary_df %>%
select(-starts_with("..."))
sapply(list_data, select(-starts_with("...")))
sapply(list_data, max)
temporary_df %>%
select(c("BOOKING NO."))
lapply(list_data, select(c("BOOKING NO.")))
lapply(list_data, select(c("BOOKING NO.")))
test_fx <- function(x){
select(x, select(-starts_with("...")))
}
test_fx(temporary_df)
select(temporary_df, -starts_with("..."))
test_fx <- function(x){
select(x, select(-starts_with("...")))
}
test_fx(temporary_df)
map(list_data, select(c("BOOKING NO.")))
map(list_data, select(c("BOOKING NO.")))
temporary_df %>%
select(-starts_with("..."))
View(list_data)
pmap(list_data, select(c("BOOKING NO.")))
View(list_data)
select(list_data[[1]] , -starts_with("..."))
pmap(list_data, select(-starts_with("...")))
pmap(list_data, (select(-starts_with("..."))))
empty_col <- c("...2", "...4")
pmap(list_data, select(-empty_col))
select(list_data[[1]] , -empty_col)
pmap(list_data, select(-empty_col))
pmap(list_data, select(empty_col))
lapply(list_data, select(empty_col))
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(knitr)
library(readr)
library(lubridate)
library(dplyr)
library(writexl)
library(readxl)
library(digest)
# create a list of df
file_names <- list.files(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col")
path_names <- paste("/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col/", file_names, sep = "")
# import df in a list
list_data <- lapply(path_names, function(x) read_excel(paste0(path = x)))
# TEMPORARY single df
temporary_df <- read_excel(path = "/Users/micahclarkmoody/Desktop/1 - Original Data/Extra Col/2023-10-12 (sent 10-13) (new format).xlsx")
select(list_data[[1]] , -starts_with("..."))
empty_col <- c("...2", "...4")
select(list_data[[1]] , -empty_col)
lapply(list_data, select(empty_col))
# list of variables to mask
anonymize_variables <- c("BOOKING", "LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
anon_data <- temporary_df %>%
mutate(id = paste("LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
# list of variables to mask
anonymize_variables <- c("BOOKING", "LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
anon_data <- temporary_df %>%
mutate(id = paste("LAST NAME", "FIRST NAME", "MIDDLE", "DATE OF BIRTH")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anonymize_variables <- c("BOOKING", "LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
# list of variables to mask
anonymize_variables <- c("LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
anon_data <- temporary_df %>%
mutate(id = paste(anonymize_variables)) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
# list of variables to mask
anonymize_variables <- c("LAST_NAME", "FIRST_NAME", "MIDDLE", "DATE_OF_BIRTH")
anon_data <- temporary_df %>%
mutate(id = paste(`LAST NAME`, FIRST NAME`)) %>%
anon_data <- temporary_df %>%
mutate(id = paste("LAST_NAME", "FIRST_NAME", "MIDDLE")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anon_data <- temporary_df %>%
mutate(id = paste(c("LAST_NAME", "FIRST_NAME", "MIDDLE"))) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anon_data <- temporary_df %>%
unite(id, c("LAST_NAME", "FIRST_NAME", "MIDDLE"))
anon_data <- temporary_df %>%
unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE"))
anon_data <- temporary_df %>%
unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
lapply(list_data, unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE")))
file_names
test <- list_data %>%
bind_rows()
View(test)
lapply(path_names, function(x) read_excel(paste0(path = x)))
lapply(path_names, function(x) read_excel(paste0(path = x))) %>%
mutate(report = x)
data <- list_data %>%
bind_rows()
View(data)
View(anon_data)
View(anon_data)
write.csv(anon_data, file = "/Users/micahclarkmoody/Desktop/anon_data.csv")
anon_temporary_df <- temporary_df %>%
unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anon_temporary_df <- temporary_df %>%
rowwise() %>%
mutate(id_hash = digest("BOOKING NO.")) %>%
ungroup()
anon_temporary_df <- temporary_df %>%
unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anon_temporary_df <- temporary_df %>%
rowwise() %>%
mutate(booking_hash = digest("BOOKING NO.")) %>%
ungroup()
anon_temporary_df <- temporary_df %>%
unite(id, c("LAST NAME", "FIRST NAME", "MIDDLE")) %>%
rowwise() %>%
mutate(id_hash = digest(id)) %>%
ungroup()
anon_temporary_df <- anon_temporary_df %>%
rowwise() %>%
mutate(booking_hash = digest("BOOKING NO.")) %>%
ungroup()
write.csv(anon_data, file = "/Users/micahclarkmoody/Desktop/anon_data.csv")
write.csv(anon_temporary_df, file = "/Users/micahclarkmoody/Desktop/anon_data.csv")
